<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡πÄ‡∏î‡πá‡∏Å‡πÅ‡∏£‡∏Å‡πÄ‡∏Å‡∏¥‡∏î (‡∏â‡∏ö‡∏±‡∏ö‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•)</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&family=Sarabun:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Markdown Parser -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        body { font-family: 'Sarabun', sans-serif; background-color: #f0fdfa; /* Teal-50 (Mint) */ color: #334155; }
        h1, h2, h3, h4 { font-family: 'Kanit', sans-serif; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin: 0 auto; height: 350px; max-height: 400px; }
        @media (max-width: 640px) { .chart-container { height: 300px; } }
        .card-shadow { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03); border: 1px solid #e2e8f0; }
        @keyframes pulse-ring { 0% { box-shadow: 0 0 0 0 rgba(20, 184, 166, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(20, 184, 166, 0); } 100% { box-shadow: 0 0 0 0 rgba(20, 184, 166, 0); } }
        .ai-loading { animation: pulse-ring 2s infinite; }
        
        /* Modal Styles */
        .modal { transition: opacity 0.25s ease; }
        body.modal-active { overflow-x: hidden; overflow-y: visible !important; }

        /* Background Animals (CSS Only - No Images) */
        .bg-animals {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden; pointer-events: none;
        }
        .animal-doodle {
            position: absolute; opacity: 0.03; font-size: 15rem; filter: grayscale(100%); transform: rotate(-10deg);
        }
    </style>
</head>
<body class="bg-teal-50 text-slate-700 antialiased relative">

    <!-- Background Animals Layer -->
    <div class="bg-animals">
        <div class="animal-doodle top-10 left-0">üêò</div>
        <div class="animal-doodle bottom-0 right-10 transform rotate-12">ü¶í</div>
        <div class="animal-doodle top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rotate-6 text-20xl">üê∞</div>
    </div>

    <!-- Header Section (Hospital Theme: Teal/Mint) -->
    <header class="bg-white border-b-4 border-teal-400 py-8 px-4 shadow-sm relative">
        <div class="max-w-6xl mx-auto text-center">
            <div class="inline-block bg-teal-100 text-teal-700 px-3 py-1 rounded-full text-xs font-bold mb-3 tracking-wider">NEWBORN CARE UNIT</div>
            <h1 class="text-3xl md:text-4xl font-bold text-teal-800 mb-2">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡πÄ‡∏î‡πá‡∏Å‡πÅ‡∏£‡∏Å‡πÄ‡∏Å‡∏¥‡∏î</h1>
            <p class="text-slate-500 font-light">‡∏â‡∏ö‡∏±‡∏ö‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•: ‡∏ñ‡∏π‡∏Å‡∏´‡∏•‡∏±‡∏Å‡∏≠‡∏ô‡∏≤‡∏°‡∏±‡∏¢ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô</p>
            
            <div class="mt-6 flex justify-center space-x-4 text-sm text-slate-500 font-medium">
                <div class="flex items-center"><span class="w-2 h-2 bg-teal-400 rounded-full mr-2"></span>Safety First</div>
                <div class="flex items-center"><span class="w-2 h-2 bg-teal-400 rounded-full mr-2"></span>Hygiene</div>
                <div class="flex items-center"><span class="w-2 h-2 bg-teal-400 rounded-full mr-2"></span>Love & Care</div>
            </div>
        </div>
    </header>

    <!-- Main Content Grid -->
    <main class="max-w-7xl mx-auto py-12 px-4 space-y-12">
        
        <!-- Section 1: The Checklist Data -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
            <div class="bg-white rounded-xl p-6 card-shadow">
                <h3 class="text-xl font-bold text-teal-800 mb-4 flex items-center">
                    <span class="bg-teal-100 p-2 rounded-lg mr-3">üõí</span>
                    ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
                </h3>
                <div class="chart-container"><canvas id="kitChart"></canvas></div>
            </div>
            <div class="space-y-4">
                <div class="bg-white p-6 rounded-xl card-shadow border-l-4 border-teal-500">
                    <h4 class="text-lg font-bold text-teal-700 mb-2">üõÅ Zone 1: ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥</h4>
                    <ul class="space-y-2 text-slate-600 text-sm">
                        <li class="flex items-center"><span class="text-teal-400 mr-2">‚úì</span> ‡∏≠‡πà‡∏≤‡∏á‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡πÄ‡∏î‡πá‡∏Å (‡∏ó‡∏£‡∏á‡πÇ‡∏Ñ‡πâ‡∏á‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß)</li>
                        <li class="flex items-center"><span class="text-teal-400 mr-2">‚úì</span> ‡∏™‡∏ö‡∏π‡πà‡πÄ‡∏´‡∏•‡∏ß pH 5.5 (Head-to-Toe)</li>
                        <li class="flex items-center"><span class="text-teal-400 mr-2">‚úì</span> ‡∏™‡∏≥‡∏•‡∏µ‡∏Å‡πâ‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Ü‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πâ‡∏≠</li>
                        <li class="flex items-center"><span class="text-teal-400 mr-2">‚úì</span> ‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠ (Normal Saline)</li>
                        <li class="flex items-center"><span class="text-teal-400 mr-2">‚úì</span> ‡πÅ‡∏≠‡∏•‡∏Å‡∏≠‡∏Æ‡∏≠‡∏•‡πå 70% (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏∞‡∏î‡∏∑‡∏≠)</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-xl card-shadow border-l-4 border-blue-400">
                    <h4 class="text-lg font-bold text-blue-700 mb-2">üß¥ Zone 2: ‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥</h4>
                    <ul class="space-y-2 text-slate-600 text-sm">
                        <li class="flex items-center"><span class="text-blue-400 mr-2">‚úì</span> ‡∏ú‡πâ‡∏≤‡πÄ‡∏ä‡πá‡∏î‡∏ï‡∏±‡∏ß‡∏ô‡∏∏‡πà‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©</li>
                        <li class="flex items-center"><span class="text-blue-400 mr-2">‚úì</span> ‡∏ú‡πâ‡∏≤‡∏≠‡πâ‡∏≠‡∏°‡πÑ‡∏ã‡∏™‡πå NB</li>
                        <li class="flex items-center"><span class="text-blue-400 mr-2">‚úì</span> ‡πÅ‡∏õ‡∏£‡∏á‡∏Ç‡∏ô‡∏≠‡πà‡∏≠‡∏ô (Soft Brush)</li>
                        <li class="flex items-center"><span class="text-blue-400 mr-2">‚úì</span> ‡∏ä‡∏∏‡∏î‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 2: Process Timeline -->
        <section>
             <div class="flex items-center justify-center mb-8">
                 <div class="h-px bg-teal-200 w-16"></div>
                 <h2 class="mx-4 text-2xl font-bold text-teal-800">Standard Procedure (3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô)</h2>
                 <div class="h-px bg-teal-200 w-16"></div>
             </div>
             
             <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                 <!-- Step 1 -->
                 <div class="bg-white rounded-xl p-6 card-shadow relative overflow-hidden">
                     <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl">üå°Ô∏è</div>
                     <h3 class="text-lg font-bold text-slate-700 mb-2">1. Prepare & Swaddle</h3>
                     <p class="text-xs text-slate-400 uppercase font-semibold mb-3 tracking-wider">‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°</p>
                     <p class="text-sm text-slate-600 leading-relaxed">‡∏ú‡∏™‡∏°‡∏ô‡πâ‡∏≥‡∏≠‡∏∏‡πà‡∏ô (‡πÄ‡∏ä‡πá‡∏Ñ‡∏î‡πâ‡∏ß‡∏¢‡∏Ç‡πâ‡∏≠‡∏®‡∏≠‡∏Å) ‡∏ß‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏° ‡∏ñ‡∏≠‡∏î‡∏ä‡∏∏‡∏î‡πÅ‡∏•‡πâ‡∏ß <strong>"‡∏´‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏ó‡∏±‡∏ô‡∏ó‡∏µ"</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥</p>
                 </div>
                 <!-- Step 2 -->
                 <div class="bg-white rounded-xl p-6 card-shadow relative overflow-hidden border-b-4 border-teal-400">
                     <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl">üíÜ</div>
                     <h3 class="text-lg font-bold text-teal-700 mb-2">2. Clean Head (Dry)</h3>
                     <p class="text-xs text-teal-400 uppercase font-semibold mb-3 tracking-wider">‡∏™‡∏£‡∏∞‡∏ú‡∏° (‡∏ï‡∏±‡∏ß‡πÅ‡∏´‡πâ‡∏á)</p>
                     <p class="text-sm text-slate-600 leading-relaxed">‡∏≠‡∏∏‡πâ‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏≠‡∏ß ‡πÄ‡∏ä‡πá‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≥‡∏ï‡πâ‡∏°‡∏™‡∏∏‡∏Å ‡∏™‡∏£‡∏∞‡∏ú‡∏°‡πÅ‡∏•‡πâ‡∏ß <strong>"‡πÄ‡∏ä‡πá‡∏î‡πÅ‡∏´‡πâ‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ"</strong> ‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡∏≠‡∏î‡∏ú‡πâ‡∏≤‡∏´‡πà‡∏≠‡∏ï‡∏±‡∏ß</p>
                 </div>
                 <!-- Step 3 -->
                 <div class="bg-white rounded-xl p-6 card-shadow relative overflow-hidden">
                     <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl">üõÅ</div>
                     <h3 class="text-lg font-bold text-slate-700 mb-2">3. Body Wash</h3>
                     <p class="text-xs text-slate-400 uppercase font-semibold mb-3 tracking-wider">‡∏•‡∏á‡∏≠‡πà‡∏≤‡∏á‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥</p>
                     <p class="text-sm text-slate-600 leading-relaxed">‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡∏´‡∏¢‡πà‡∏≠‡∏ô‡∏Ç‡∏≤ ‡∏•‡πâ‡∏≤‡∏á‡∏ã‡∏≠‡∏Å‡∏Ñ‡∏≠ ‡∏£‡∏±‡∏Å‡πÅ‡∏£‡πâ ‡∏Ç‡∏≤‡∏´‡∏ô‡∏µ‡∏ö ‡∏û‡∏•‡∏¥‡∏Å‡∏ï‡∏±‡∏ß‡∏ñ‡∏π‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á</p>
                 </div>
             </div>
        </section>

        <!-- Section 3: Complexity Radar -->
        <section class="grid grid-cols-1 md:grid-cols-12 gap-8 bg-white rounded-2xl p-8 card-shadow border border-teal-100">
            <div class="md:col-span-5 flex flex-col justify-center">
                <h2 class="text-2xl font-bold text-slate-700 mb-4">Critical Care Points</h2>
                <p class="text-slate-500 mb-6 text-sm">‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏à‡∏∏‡∏î‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏û‡∏ó‡∏¢‡πå</p>
                 <div class="bg-red-50 p-4 rounded-lg border-l-4 border-red-400">
                    <h5 class="text-red-700 font-bold text-sm mb-2">‚ö†Ô∏è ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î:</h5>
                    <ul class="text-sm space-y-2 text-red-600">
                        <li><strong>‡∏™‡∏∞‡∏î‡∏∑‡∏≠:</strong> ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏´‡πâ‡∏á‡∏™‡∏ô‡∏¥‡∏ó ‡∏´‡πâ‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î (‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠)</li>
                        <li><strong>‡∏î‡∏ß‡∏á‡∏ï‡∏≤:</strong> ‡πÄ‡∏ä‡πá‡∏î‡∏ó‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏¥‡πâ‡∏á ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏ä‡πá‡∏î‡∏ß‡∏ô</li>
                    </ul>
                </div>
            </div>
            <div class="md:col-span-7 flex justify-center items-center">
                <div class="chart-container"><canvas id="complexityChart"></canvas></div>
            </div>
        </section>

        <!-- New Section: Gemini AI Assistant -->
        <section id="ai-assistant" class="bg-gradient-to-br from-teal-50 to-white rounded-2xl p-8 border border-teal-200 shadow-md relative overflow-hidden">
             
            <!-- Settings Button -->
            <button onclick="toggleModal()" class="absolute top-6 right-6 z-20 bg-white hover:bg-teal-50 p-2 rounded-full transition duration-200 text-teal-500 border border-teal-200 shadow-sm" title="‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API Key">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
            </button>

            <div class="relative z-10 max-w-4xl mx-auto">
                <div class="text-center mb-6">
                    <div class="inline-flex items-center gap-2 bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-xs font-bold mb-3">
                        <span>ü§ñ</span> Powered by Gemini AI
                    </div>
                    <h2 class="text-2xl font-bold text-teal-900">‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏û‡∏µ‡πà‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á AI ‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</h2>
                    <p class="text-slate-500 text-sm mt-1">‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ó‡∏≤‡∏£‡∏Å (Hybrid Wisdom)</p>
                </div>
                
                <div class="bg-white rounded-xl border border-teal-100 shadow-sm p-6">
                    <div class="space-y-4">
                        <textarea id="user-input" rows="2" class="w-full p-4 border border-slate-200 rounded-lg focus:ring-2 focus:ring-teal-400 focus:border-transparent resize-none bg-slate-50 text-sm" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ú‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏≤‡∏î‡∏µ? ‡∏´‡∏£‡∏∑‡∏≠ ‡∏™‡∏∞‡∏î‡∏∑‡∏≠‡∏°‡∏µ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÄ‡∏´‡∏°‡πá‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥‡πÑ‡∏´‡∏°?"></textarea>
                        
                        <div class="flex gap-3">
                            <button id="ask-btn" onclick="callGemini()" class="flex-1 bg-teal-500 hover:bg-teal-600 text-white font-bold py-2.5 px-6 rounded-lg transition duration-200 flex items-center justify-center gap-2 shadow-sm text-sm">
                                <span>‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</span>
                            </button>
                             <button onclick="generateEncouragement()" class="bg-rose-400 hover:bg-rose-500 text-white font-bold py-2.5 px-4 rounded-lg shadow-sm text-sm" title="‡∏Ç‡∏≠‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à">‚ù§Ô∏è</button>
                        </div>
                    </div>

                    <!-- Loading & Result -->
                    <div id="loading-indicator" class="hidden mt-6 text-center text-teal-600 text-sm ai-loading flex justify-center items-center gap-2">
                        <svg class="animate-spin h-4 w-4 text-teal-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                        ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏û‡∏µ‡πà‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á AI...
                    </div>
                    
                    <div id="ai-response-container" class="hidden mt-6 bg-teal-50/50 border-l-4 border-teal-400 p-5 rounded-r-lg">
                        <div id="ai-response-text" class="prose prose-teal text-slate-700 text-sm leading-relaxed max-w-none"></div>
                        
                        <!-- Disclaimer Added Here -->
                        <div class="mt-4 pt-3 border-t border-teal-100">
                            <p class="text-xs text-red-500 font-semibold flex items-start gap-1">
                                <span class="text-base">‚ö†Ô∏è</span> 
                                ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå ‡∏´‡∏≤‡∏Å‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á ‡πÇ‡∏õ‡∏£‡∏î‡∏û‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-white border-t border-slate-200 text-slate-400 py-6 text-center text-xs">
        <p>¬© 2024 ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡πÄ‡∏î‡πá‡∏Å & AI Assistant | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ Gemini & GitHub Pages</p>
    </footer>

    <!-- API KEY MODAL -->
    <div id="apiKeyModal" class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-50">
        <div class="modal-overlay absolute w-full h-full bg-slate-900 opacity-40 backdrop-blur-sm" onclick="toggleModal()"></div>
        <div class="modal-container bg-white w-11/12 md:max-w-md mx-auto rounded-xl shadow-2xl z-50 overflow-y-auto transform transition-all duration-300 scale-95 border-t-4 border-teal-500">
            <div class="modal-content py-6 text-left px-6">
                <div class="flex justify-between items-center pb-4 border-b border-slate-100 mb-4">
                    <p class="text-lg font-bold text-teal-800">üîë ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API Key</p>
                    <div class="cursor-pointer z-50 hover:bg-slate-100 rounded-full p-1 transition" onclick="toggleModal()">
                        <svg class="fill-current text-slate-400 hover:text-slate-600" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 18 18"><path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path></svg>
                    </div>
                </div>
                <div class="bg-teal-50 rounded-lg p-4 mb-4 border border-teal-100">
                    <p class="font-bold text-teal-700 mb-2 text-xs uppercase tracking-wide">Instruction:</p>
                    <ul class="text-xs text-teal-800 space-y-1.5 list-disc pl-4">
                        <li>‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏ß‡πá‡∏ö <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-blue-600 underline font-semibold hover:text-blue-800">Google AI Studio</a></li>
                        <li>‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô Gmail > ‡∏Å‡∏î <strong>"Create API key"</strong></li>
                        <li>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å <strong>"Create API key in new project"</strong></li>
                        <li>‡∏ô‡∏≥‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</li>
                    </ul>
                </div>
                <div class="mb-4">
                    <input type="password" id="apiKeyInput" class="w-full bg-slate-50 border border-slate-200 rounded-lg py-3 px-3 text-slate-700 text-sm focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent transition" placeholder="‡∏ß‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà (AIza...)" />
                </div>
                <div class="flex justify-end pt-2 gap-2">
                    <button onclick="toggleModal()" class="px-4 py-2 bg-white border border-slate-200 rounded-lg text-slate-500 hover:bg-slate-50 transition text-sm font-medium">‡∏õ‡∏¥‡∏î</button>
                    <button onclick="saveApiKey()" class="px-6 py-2 bg-teal-500 rounded-lg text-white hover:bg-teal-600 transition text-sm font-bold shadow-sm">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Script -->
    <script>
        // --- Modal Logic ---
        function toggleModal() {
            const body = document.querySelector('body');
            const modal = document.querySelector('#apiKeyModal');
            const modalContainer = modal.querySelector('.modal-container');
            modal.classList.toggle('opacity-0'); modal.classList.toggle('pointer-events-none'); body.classList.toggle('modal-active');
            if (!modal.classList.contains('opacity-0')) {
                const savedKey = localStorage.getItem('gemini_api_key');
                if(savedKey) document.getElementById('apiKeyInput').value = savedKey;
                modalContainer.classList.remove('scale-95'); modalContainer.classList.add('scale-100');
            } else { modalContainer.classList.remove('scale-100'); modalContainer.classList.add('scale-95'); }
        }
        function saveApiKey() {
            const key = document.getElementById('apiKeyInput').value.trim();
            if(key) { localStorage.setItem('gemini_api_key', key); alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!"); toggleModal(); } 
            else { alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ß‡∏≤‡∏á API Key ‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö"); }
        }
        function getApiKey() {
            const key = localStorage.getItem('gemini_api_key');
            if (!key) { toggleModal(); return null; } return key;
        }

        // --- Charts ---
        function formatLabel(str, maxwidth) {
            var sections = []; var words = str.split(" "); var temp = "";
            words.forEach(function(item, index) {
                if (temp.length > 0) {
                    var concat = temp + ' ' + item;
                    if (concat.length > maxwidth) { sections.push(temp); temp = ""; } 
                    else { if (index == (words.length - 1)) { sections.push(concat); return; } else { temp = concat; return; } }
                }
                if (index == (words.length - 1)) { sections.push(item); return; }
                if (item.length < maxwidth) { temp = item; } else { sections.push(item); }
            }); return sections;
        }

        const kitChart = new Chart(document.getElementById('kitChart').getContext('2d'), {
            type: 'doughnut',
            data: {
                labels: [formatLabel('‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå ‡∏≠‡∏≤‡∏ö‡∏ô‡πâ‡∏≥', 16), formatLabel('‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ ‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏ö', 16), formatLabel('‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤', 16)],
                datasets: [{ data: [7, 4, 3], backgroundColor: ['#2dd4bf', '#60a5fa', '#f472b6'], borderWidth: 0 }] // Teal, Blue, Pink
            },
            options: { responsive: true, maintainAspectRatio: false, cutout: '70%', plugins: { legend: { position: 'bottom', labels: { font: { family: "'Sarabun', sans-serif" } } } } }
        });

        const complexChart = new Chart(document.getElementById('complexityChart').getContext('2d'), {
            type: 'radar',
            data: {
                labels: ['‡∏™‡∏∞‡∏î‡∏∑‡∏≠', '‡∏î‡∏ß‡∏á‡∏ï‡∏≤', '‡∏™‡∏£‡∏∞‡∏ú‡∏°', '‡∏ñ‡∏π‡∏•‡∏≥‡∏ï‡∏±‡∏ß', '‡∏≠‡∏ß‡∏±‡∏¢‡∏ß‡∏∞‡πÄ‡∏û‡∏®'],
                datasets: [{ label: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∞‡∏ß‡∏±‡∏á', data: [9.5, 8, 6, 5, 7], backgroundColor: 'rgba(20, 184, 166, 0.2)', borderColor: '#14b8a6', pointBackgroundColor: '#14b8a6', fill: true }] // Teal-500
            },
            options: { responsive: true, maintainAspectRatio: false, scales: { r: { suggestedMin: 0, suggestedMax: 10, grid: { color: '#e2e8f0' } } }, plugins: { legend: { display: false } } }
        });

        // --- AI Logic (Updated Temp & Persona) ---
        async function callGemini() {
            const apiKey = getApiKey(); if (!apiKey) return;
            const inputField = document.getElementById('user-input');
            const question = inputField.value.trim();
            const responseContainer = document.getElementById('ai-response-container');
            const responseText = document.getElementById('ai-response-text');
            const loading = document.getElementById('loading-indicator');

            if (!question) { alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏∞"); return; }

            loading.classList.remove('hidden'); responseContainer.classList.add('hidden');
            
            const systemPrompt = `Role & Persona:
‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ "‡∏û‡∏µ‡πà‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞" (AI Nanny) ‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ó‡∏≤‡∏£‡∏Å‡πÅ‡∏£‡∏Å‡πÄ‡∏Å‡∏¥‡∏î (Newborn Specialist) ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏≠‡∏ö‡∏£‡∏π‡πâ‡πÅ‡∏ö‡∏ö "Hybrid Wisdom" ‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏™‡∏°‡∏±‡∏¢‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÅ‡∏ú‡∏ô‡πÑ‡∏ó‡∏¢ ‡∏™‡∏≤‡∏¢‡∏´‡∏°‡πà‡∏≠‡∏°‡∏£‡∏≤‡∏ä‡∏ß‡∏á‡∏®‡πå‡∏™‡∏≠‡∏≤‡∏î ‡∏ó‡∏¥‡∏ô‡∏Å‡∏£ ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô ‡πÉ‡∏à‡πÄ‡∏¢‡πá‡∏ô ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏´‡∏±‡∏ß‡∏≠‡∏Å‡∏û‡πà‡∏≠‡πÅ‡∏°‡πà‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà (Empathic) ‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏î‡πâ‡∏ß‡∏¢‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢ ‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö ‡πÅ‡∏•‡∏∞‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢

Core Competencies:
1. Modern Newborn Care: ‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô AAP/WHO (‡∏Å‡∏≤‡∏£‡∏ô‡∏≠‡∏ô, ‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏ô, SIDS prevention)
2. Parental Behavioral Learning: ‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡πÄ‡∏î‡πá‡∏Å‡πÅ‡∏•‡∏∞ EF
3. Product Intelligence: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏™‡∏° (SLS, Paraben, pH 5.5)
4. Thai Traditional Medicine: ‡∏ò‡∏≤‡∏ï‡∏∏‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡∏ô, ‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏™‡∏°‡∏≠‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ú‡∏ô‡πÑ‡∏ó‡∏¢ ‡∏´‡πâ‡∏≤‡∏°‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢‡πÇ‡∏£‡∏Ñ)

Response Format:
1. ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏Å
2. üí° Fun Fact
3. ‚úÖ Checklist (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
4. üåø ‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÅ‡∏ú‡∏ô‡πÑ‡∏ó‡∏¢ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

Constraints:
- ‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏¢‡∏≤‡∏õ‡∏è‡∏¥‡∏ä‡∏µ‡∏ß‡∏ô‡∏∞
- ‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏û‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ: ${question}`;

            try {
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                const response = await fetch(url, {
                    method: 'POST', headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        contents: [{ parts: [{ text: systemPrompt }] }],
                        generationConfig: { temperature: 0.5 } // Set Temp to 0.5 as requested
                    })
                });

                if (!response.ok) throw new Error(`API Error: ${response.status}`);
                const data = await response.json();
                responseText.innerHTML = marked.parse(data.candidates[0].content.parts[0].text);
                responseContainer.classList.remove('hidden');
            } catch (error) { console.error(error); alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: Key ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏Ñ‡∏ß‡∏ï‡∏≤‡πÄ‡∏ï‡πá‡∏°"); toggleModal(); } 
            finally { loading.classList.add('hidden'); }
        }

        async function generateEncouragement() {
            const apiKey = getApiKey(); if (!apiKey) return;
            const responseContainer = document.getElementById('ai-response-container');
            const responseText = document.getElementById('ai-response-text');
            const loading = document.getElementById('loading-indicator');

            loading.classList.remove('hidden'); responseContainer.classList.add('hidden');

            try {
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                const response = await fetch(url, {
                    method: 'POST', headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        contents: [{ parts: [{ text: "‡∏Ç‡∏≠‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏à‡∏™‡∏±‡πâ‡∏ô‡πÜ ‡∏ã‡∏∂‡πâ‡∏á‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏•‡∏Å‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÜ ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏û‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏°‡πà‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà 1 ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥ ‡πÉ‡∏ô‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏û‡∏µ‡πà‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á AI ‡πÉ‡∏à‡∏î‡∏µ" }] }],
                        generationConfig: { temperature: 0.7 }
                    })
                });
                const data = await response.json();
                responseText.innerHTML = marked.parse(data.candidates[0].content.parts[0].text);
                responseContainer.classList.remove('hidden');
            } catch (error) { console.error(error); alert("‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ"); } 
            finally { loading.classList.add('hidden'); }
        }
    </script>
</body>
</html>
